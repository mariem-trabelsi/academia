<div class="paper-approval-container">
  <div class="approval-header">
    <h2>Paper Approval Queue</h2>
    <p class="subtitle">Review and approve submitted academic papers</p>
  </div>

  <div class="approval-list">
    <div class="list-header">
      <div class="header-title">Title</div>
      <div class="header-author">Author</div>
      <div class="header-domain">Domain</div>
      <div class="header-date">Submitted</div>
      <div class="header-status">Status</div>
      <div class="header-actions">Actions</div>
    </div>

    <div class="no-papers" *ngIf="articles.length === 0">
      There are no papers in the approval queue.
    </div>

    <div class="paper-item" *ngFor="let article of articles" @itemAnimation>
      <div class="item-title">{{ article.title }}</div>
      <div class="item-author">{{ article.authorName }}</div>
      <div class="item-domain">{{ article?.domain?.name }}</div>
      <div class="item-date">{{ article.createdDate | date:'MMM d, y' }}</div>
      <div class="item-status">
        <span class="status-badge" [ngClass]=" getStatusClass(article.approved)">
          {{ article.approved ? 'Approved' : 'Pending' }}
        </span>
      </div>
      <div class="item-actions">
        <button class="btn-view" (click)="viewArticleDetails(article)">View</button>
      </div>
    </div>


   

  <!-- Paper Details Modal -->
  <div class="paper-details-modal" *ngIf="selectedArticle">
    <div class="modal-backdrop" (click)="closeArticleDetails()"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h3>Paper Review</h3>
        <button class="btn-close" (click)="closeArticleDetails()">&times;</button>
      </div>
      
      <div class="modal-body">
        <div class="paper-cover" *ngIf="selectedArticle.articleCover">
          <img [src]="selectedArticle.articleCover" alt="Paper cover">
        </div>
        
        <div class="paper-info">
          <h4>{{ selectedArticle.title }}</h4>
          <div class="info-row">
            <span class="info-label">Author:</span>
            <span class="info-value">{{ selectedArticle.authorName }}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Domain:</span>
            <span class="info-value">{{ selectedArticle.domain?.name }}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Submitted:</span>
            <span class="info-value">{{ selectedArticle.createdDate | date:'MMM d, y' }}</span>
          </div>
        </div>
        
        <div class="paper-abstract">
          <h5>Abstract</h5>
          <p>{{ selectedArticle.abstract_ }}</p>
        </div>
        
        <div class="paper-documents">
          <h5>Documents</h5>
          <a *ngIf="selectedArticle.filePath" [href]="selectedArticle.filePath" class="document-link" target="_blank">
            <span class="pdf-icon">ðŸ“„</span> View PDF
          </a>
        </div>
        
        <div class="approval-actions">
          <div class="action-section">
            <button class="btn-approve" (click)="approveArticle(selectedArticle)">
              Approve Paper
            </button>
          </div>
          
          <div class="action-section">
            <textarea 
              placeholder="Provide a reason for rejection" 
              [(ngModel)]="rejectionReason"
              
            ></textarea>
            <button class="btn-reject" 
              (click)="rejectArticle(selectedArticle)" 
             >
              Reject Paper
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
